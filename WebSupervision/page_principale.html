<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="fr">

	<head>
		<title>Website Supervision</title>
		<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
		<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
		<script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=false"></script>

		<script src="jquery-2.1.1.js"></script>
		<script src="js/fonctions.js"></script>
		<script src="js/table_functions.js"></script>
		<script src="js/maps_functions.js"></script>

		<script src="bootstrap/js/bootstrap.js"></script>
		
        <link rel="icon" 		href="logos/app-map-icon.png"/>
		<link rel="stylesheet" 	href="bootstrap/css/bootstrap.css">
		<link rel="stylesheet" 	href="bootstrap-responsive.css">
		<link rel="stylesheet" 	href="css/rendering.css">

	</head>

	<body onload="initialiser()">

		<nav class="navbar navbar-default" role="navigation">
		  	<div class="container-fluid">
			    <div class="navbar-header">
			    	<a class="navbar-brand" id="title_page">Website Supervision</a>
			    </div>

			    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">

			      	<form class="navbar-form navbar-left" role="connection">
					    <div class="input-group">
					      	<input type="text" class="form-control" placeholder="172.0.0.1:8080" id="ipServer" value="172.31.1.191:8082">
					      	<span class="input-group-btn">
					        	<button class="btn btn-danger" id="connect" type="button" onclick="connect_to_server()">Disconnected</button>
					      	</span>
					 	</div>
			      	</form>

			      	<ul class="nav navbar-nav navbar-right" role="help">
				 		<li>
							<a title="Help" data-toggle="modal" data-target=".bs-example-modal-lg"><span class="glyphicon glyphicon-question-sign"></span></a>
				 		</li>

				 		<li>
							<a title="Parameters" data-toggle="modal" data-target=".parameters-modal-lg"><span class="glyphicon glyphicon-cog"></span></a>
				 		</li>
			      	</ul>

			    </div>
		  	</div>
		</nav>


		<div class="container-fluid">
			<div class="row-fluid">
			    <div class="col-md-5">

			    	<!--GROUP ACCORDION-->
					<div class="panel-group" id="accordion">

						<!--ACCORDION FOR THE STATISTICS-->
					  	<div class="panel panel-default" style="opacity : 0.9;">
						    
						    <div class="panel-heading">
						      <h4 class="panel-title">
						        <a data-toggle="collapse" data-parent="false" href="#collapseOne">
						        Statistics <span class="glyphicon glyphicon-chevron-down" style="float : right;"></span>
						        </a>
						      </h4>
						    </div>

						    <div id="collapseOne" class="panel-collapse collapse in">
						      	<div class="panel-body" >

									<div class="input-group">
									  	<span class="input-group-addon">Amount of users</span>
									  	<input type="text" class="form-control stats" id="stats_amount" placeholder="---"  disabled>
									</div>

									<div class="input-group">
									  	<span class="input-group-addon">Users connected</span>
									  	<input type="text" class="form-control stats" id="stats_users_connected" placeholder="---"  disabled>
									</div>

									<div class="input-group">
									  	<span class="input-group-addon">Total distances</span>
									  	<input type="text" class="form-control stats" id="stats_distances" placeholder="---" disabled>
									</div>

									<div class="input-group">
									  	<span class="input-group-addon">Best distance</span>
									  	<input type="text" class="form-control stats" id="stats_best_distance" placeholder="---" disabled>
									</div>

									<div class="input-group">
									  	<span class="input-group-addon">Best location</span>
									  	<input type="text" class="form-control stats" id="stats_best_location" placeholder="---" disabled>
									</div>									


						      	</div>
						    </div>
					  	</div>


						<!--ACCORDION FOR THE TABLE-->
					  	<div class="panel panel-default" style="opacity : 0.9;">
						    <div class="panel-heading">
						      <h4 class="panel-title">
						        <a data-toggle="collapse" data-parent="false" href="#collapseTwo">
						         Details  
						         <span class="glyphicon glyphicon-chevron-down" style="float : right;"></span>
						        </a>
						      </h4>
						    </div>
						    <div id="collapseTwo" class="panel-collapse collapse in">
						      	<div class="panel-body" >

									<div style="height:250px; overflow-y:scroll;">

										<table class="table table-condensed" id="table_infos" style="overflow:hidden;">
											<thead id="thead_table">
											   	<tr>
											    	<th>Users</th>
											    	<th>Latitude</th> 
											    	<th>Longitude</th>
											    	<th>Distance</th>
											  	</tr>
											</thead>
											<tbody id="tbody_table"></tbody>
										</table> 
									</div>

						      	</div>
						    </div>
					  	</div>

						<!--ACCORDION FOR THE JSON TEST BOX-->
					  	<div class="panel panel-default" style="opacity : 0.95;">
					    	<div class="panel-heading">
					      		<h4 class="panel-title">
					        		<a data-toggle="collapse" data-parent="false" href="#collapseThree">
					          		JSON Test Box <span class="glyphicon glyphicon-chevron-down" style="float : right;"></span>
					        		</a>
					      		</h4>
					    	</div>
					    	<div id="collapseThree" class="panel-collapse collapse" id="collapse_submit_JSON">
					      		<div class="panel-body">
									<div>
										<textarea class="form-control" id="textarea_submit" rows="7" style="width : 100%;"></textarea>
									</div>

					      		</div>
					    	</div>
					  	</div>
					</div>	<!--end group accordion-->
				</div>

			    <div class="col-md-7">
				    <div class="input-group">

					    <span class="input-group-btn">
				        	<div class="dropdown">
								<button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown">Actions</button>
							  	<ul class="dropdown-menu" role="menu">
							    	<li><a role="menuitem" onclick="go_home()">Go home</a></li>
							    	<li><a role="menuitem" onclick="resize_map()">View all users</a></li>
							    	<li><a role="menuitem" onclick="delete_all_markers()">Delete markers</a></li>
							  	</ul>
							</div>
				      	</span>		


						<input type="text" class="form-control" placeholder="Latitude/Longitude" id="search">
				      	<span class="input-group-btn">
				        	<button class="btn btn-info" id="button_search" type="button" onclick="search_position()">
				        		<div>Search
				        			<span class="glyphicon glyphicon-search">
				        		</div>
				        	</button>
				      	</span>

				 	</div>
			    	<div id="my_map" style="width:100%; height:80%"></div>
			    </div>
			</div>
		</div>


		<!--MODAL WINDOW-->
		<div class="modal fade bs-example-modal-lg">
		  	<div class="modal-dialog">
			    <div class="modal-content">
			      	<div class="modal-header">
			        	<h4 class="modal-title">You need help ?</h4>
			      	</div>
			      	<div class="modal-body">
		        		<p>
			        	This webpage supervision allows you to view all the statistics related to GolfProject application.</br>
							<li>To connect to the server, specify the IP address and the port. Click on the "Disconnected" button and wait until its specifies "Connected".</li>
							<li>When the connection is made, you have the possibility to visualize some information : the general statistics and details users (name, position, distance travelled in km,...)</li>
							<li>The button "Actions" give you the possibility to return to your Home point, and view all users with an adapted zoom.</li>
							<li>The button "Search" allows you to go the GPS poisitions you have previously indicated in the text field.</li>
			        	</p>
			      	</div>
			    <div class="modal-footer">
			    	<h6>For more information, never contact us...</h6>
			        <button type="button" class="btn btn-info" data-dismiss="modal">Thanks !</button>
			    </div>
			    </div>
		  	</div>
		</div>

		<div class="modal fade parameters-modal-lg" id="parameters_modal">
		  	<div class="modal-dialog">
			    <div class="modal-content">
			      	<div class="modal-header">
			        	<h4 class="modal-title">Parameters</h4>
			      	</div>


					<div class="modal-body">

						<div class="input-group">
						  	<span class="input-group-addon">Refresh frequency</span>
						  	<input type="text" class="form-control" placeholder="in milliseconds" id="refresh_value">
						</div>

						<div class="input-group">
						  	<span class="input-group-addon">Home position</span>
							<input type="text" class="form-control" placeholder="Latitude/Longitude" id="refresh_home_position">

					      	<span class="input-group-btn">
					        	<button class="btn btn-default" id="home_IMERIR" type="button" onclick="fill_IMERIR_position()">
					        	<img src="logos/icon_imerir.png" style="height : 20px">
					        	</button>
					      	</span>

						</div>

			      	</div>

				    <div class="modal-footer">
				        <button type="button" class="btn btn-info" onclick="refresh_parameters()">Validate</button>
				        <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
				    </div>
			    </div>
		  	</div>
		</div>

	</body>
</html>